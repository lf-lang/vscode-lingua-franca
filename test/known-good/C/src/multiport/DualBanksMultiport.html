<span class="source-lf meta-targetspec-lflang keyword-control-lflang">
target
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
C
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 
</span>
<span class="source-lf entity-name-type-lflang">
Base
</span>
<span class="source-lf">
(bank_index: 
</span>
<span class="source-lf storage-type-lflang">
int
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
) {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
input
</span>
<span class="source-lf">
[2] I:
</span>
<span class="source-lf meta-embedded-block-cpp">
 
</span>
<span class="source-lf meta-embedded-block-cpp storage-type-lflang">
int
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-lflang">
received
</span>
<span class="source-lf">
:
</span>
<span class="source-lf meta-embedded-block-cpp">
 
</span>
<span class="source-lf meta-embedded-block-cpp storage-type-lflang">
bool
</span>
<span class="source-lf meta-embedded-block-cpp">
 
</span>
<span class="source-lf">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-language-lflang">
false
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
shutdown
</span>
<span class="source-lf">
) {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    if(!self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
received) {
</span>

<span class="source-lf">
      lf_print_error_and_exit(
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Bank member %d did not receive all inputs.
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
,
</span>

<span class="source-lf">
        self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
bank_index
</span>

<span class="source-lf">
      );
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 
</span>
<span class="source-lf entity-name-type-lflang">
Hello
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
extends
</span>
<span class="source-lf">
 Base {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
I) {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    if (I[
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
]
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
is_present && I[
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
]
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
is_present) {
</span>

<span class="source-lf">
      printf(
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Hello %d
</span>
<span class="source-lf string-quoted-double-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
, self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
bank_index);
</span>

<span class="source-lf">
      self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
received 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 
</span>
<span class="source-lf entity-name-type-lflang">
World
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
extends
</span>
<span class="source-lf">
 Base {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
I) {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    if (I[
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
]
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
is_present && I[
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
]
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
is_present) {
</span>

<span class="source-lf">
      printf(
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
World %d
</span>
<span class="source-lf string-quoted-double-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
, self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
bank_index);
</span>

<span class="source-lf">
      self
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
received 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
main
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
hellos
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-control-new-lflang">
new
</span>
<span class="source-lf">
[
</span>
<span class="source-lf constant-numeric-int-lflang">
3
</span>
<span class="source-lf">
] Hello()
</span>

<span class="source-lf">
  
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
worlds
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-control-new-lflang">
new
</span>
<span class="source-lf">
[
</span>
<span class="source-lf constant-numeric-int-lflang">
3
</span>
<span class="source-lf">
] World()
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
startup
</span>
<span class="source-lf">
) 
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
hellos
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
I
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
worlds
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
I
</span>
<span class="source-lf">
 {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    for(int i 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
; i < hellos_width; i
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
) {
</span>

<span class="source-lf">
      lf_set(hellos[i]
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf">
I[
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
], 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
      lf_set(hellos[i]
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf">
I[
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
], 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
    for(int i 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
; i < worlds_width; i
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
) {
</span>

<span class="source-lf">
      lf_set(worlds[i]
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf">
I[
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
], 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
      lf_set(worlds[i]
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf">
I[
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
], 
</span>
<span class="source-lf constant-language-lflang">
true
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

