<span class="source-lf comment-line-double-dash-lflang">
// Test verifying that lf_request_stop() called in a shutdown reaction is ignored.
</span>

<span class="source-lf meta-targetspec-lflang keyword-control-lflang">
target
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
C
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
main
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
shutdown
</span>
<span class="source-lf">
) {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    tag_t current_tag 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 lf_tag();
</span>

<span class="source-lf">
    lf_print(
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Shutdown invoked at tag (
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
 PRINTF_TIME 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
, %d). Calling lf_request_stop(), which should have no effect.
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
,
</span>

<span class="source-lf">
      
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
current_tag
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf storage-type-lflang">
time
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
-
</span>
<span class="source-lf">
 lf_time_start(), 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
current_tag
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
microstep
</span>

<span class="source-lf">
    );
</span>

<span class="source-lf">
    lf_request_stop();
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

