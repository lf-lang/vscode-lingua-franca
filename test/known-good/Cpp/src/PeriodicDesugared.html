<span class="source-lf meta-targetspec-lflang keyword-control-lflang">
target
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
Cpp
</span>
<span class="source-lf meta-targetspec-lflang">
 {
</span>

<span class="source-lf meta-targetspec-lflang variable-parameter-lflang">
  fast
</span>
<span class="source-lf meta-targetspec-lflang">
: 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
true
</span>
<span class="source-lf meta-targetspec-lflang">
,
</span>

<span class="source-lf meta-targetspec-lflang variable-parameter-lflang">
  timeout
</span>
<span class="source-lf meta-targetspec-lflang">
: 
</span>
<span class="source-lf meta-targetspec-lflang constant-numeric-int-lflang">
5
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-numeric-lflang">
secs
</span>

<span class="source-lf meta-targetspec-lflang">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
main
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
(offset: 
</span>
<span class="source-lf storage-type-lflang">
time
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
50
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-lflang">
msec
</span>
<span class="source-lf">
, period: 
</span>
<span class="source-lf storage-type-lflang">
time
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
500
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-lflang">
msec
</span>
<span class="source-lf">
) {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
logical
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
action
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-lflang">
init
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
offset): 
</span>
<span class="source-lf storage-type-lflang">
void
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
logical
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
action
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-lflang">
recur
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
period): 
</span>
<span class="source-lf storage-type-lflang">
void
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-lflang">
expected
</span>
<span class="source-lf">
 
</span>
<span class="source-lf">
=
</span>
<span class="source-lf">
 offset
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
startup
</span>
<span class="source-lf">
) 
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
 init {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
cout
</span>
<span class="source-lf">
 << 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Hello from Periodic!
</span>
<span class="source-lf string-quoted-double-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
    
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
init
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
schedule
</span>
<span class="source-lf">
();
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
init) 
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
 recur {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
recur
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
schedule
</span>
<span class="source-lf">
(); 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf">
init, recur) 
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
 recur {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
cout
</span>
<span class="source-lf">
 << 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Periodic trigger!
</span>
<span class="source-lf string-quoted-double-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
    auto logical_time 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 get_elapsed_logical_time();
</span>

<span class="source-lf">
    
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
cout
</span>
<span class="source-lf">
 << 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
Elapsed logical time: 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
 << logical_time << 
</span>
<span class="source-lf string-quoted-single-lflang">
'
</span>
<span class="source-lf string-quoted-single-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-single-lflang">
'
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
    if (logical_time !
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 expected) {
</span>

<span class="source-lf">
      
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
cerr
</span>
<span class="source-lf">
 << 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
ERROR: expected 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
 << expected << 
</span>
<span class="source-lf string-quoted-single-lflang">
'
</span>
<span class="source-lf string-quoted-single-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-single-lflang">
'
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
      exit(
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    }
</span>

<span class="source-lf">
    expected 
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 period;
</span>

<span class="source-lf">
    
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
recur
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
schedule
</span>
<span class="source-lf">
();
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

