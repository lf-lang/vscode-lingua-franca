<span class="source-lf meta-targetspec-lflang keyword-control-lflang">
target
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
Cpp
</span>

<span class="source-lf">

</span>

<span class="source-lf keyword-control-lflang">
public
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-control-lflang">
preamble
</span>
<span class="source-lf">
 {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf comment-line-double-dash-lflang">
  
</span>
<span class="source-lf comment-line-double-dash-lflang">
#include <initializer_list>
</span>

<span class="source-lf">
  struct TestType {
</span>

<span class="source-lf">
      int x;
</span>

<span class="source-lf">

</span>

<span class="source-lf comment-line-double-dash-lflang">
      
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
      TestType() :
</span>
<span class="source-lf storage-type-lflang">
 x
</span>
<span class="source-lf">
(
</span>
<span class="source-lf constant-numeric-int-lflang">
42
</span>
<span class="source-lf">
) {}
</span>

<span class="source-lf comment-line-double-dash-lflang">
      
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #2
</span>

<span class="source-lf">
      TestType(int x) :
</span>
<span class="source-lf storage-type-lflang">
 x
</span>
<span class="source-lf">
(x) {}
</span>

<span class="source-lf comment-line-double-dash-lflang">
      
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #3
</span>

<span class="source-lf">
      TestType(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
initializer_list
</span>
<span class="source-lf">
<int> l) :
</span>
<span class="source-lf storage-type-lflang">
 x
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
l
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
size
</span>
<span class="source-lf">
()) {}
</span>

<span class="source-lf comment-line-double-dash-lflang">
      
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #4
</span>

<span class="source-lf">
      TestType(
</span>
<span class="source-lf storage-modifier-lflang">
const
</span>
<span class="source-lf">
 TestType& t) :
</span>
<span class="source-lf storage-type-lflang">
 x
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
t
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
10
</span>
<span class="source-lf">
) { }
</span>

<span class="source-lf comment-line-double-dash-lflang">
      
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #5
</span>

<span class="source-lf">
      TestType(TestType&& t) :
</span>
<span class="source-lf storage-type-lflang">
 x
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
t
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
20
</span>
<span class="source-lf">
)  { }
</span>

<span class="source-lf">

</span>

<span class="source-lf">
      TestType& operator
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
(
</span>
<span class="source-lf storage-modifier-lflang">
const
</span>
<span class="source-lf">
 TestType& t) {
</span>

<span class="source-lf">
          
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
std
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
cout
</span>
<span class="source-lf">
 << 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
assign
</span>
<span class="source-lf string-quoted-double-lflang constant-character-escape">
\n
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
          this
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
x 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
t
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
30
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
          return 
</span>
<span class="source-lf keyword-operator-lflang">
*
</span>
<span class="source-lf">
this;
</span>

<span class="source-lf">
      }
</span>

<span class="source-lf">
      TestType& operator
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
(TestType&& t) {
</span>

<span class="source-lf">
          this
</span>
<span class="source-lf keyword-operator-lflang">
->
</span>
<span class="source-lf">
x 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
t
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
+
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
40
</span>
<span class="source-lf">
;
</span>

<span class="source-lf">
          return 
</span>
<span class="source-lf keyword-operator-lflang">
*
</span>
<span class="source-lf">
this;
</span>

<span class="source-lf">
      }
</span>

<span class="source-lf">

</span>

<span class="source-lf">
      ~TestType() 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 default;
</span>

<span class="source-lf">
  };
</span>

<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 
</span>
<span class="source-lf entity-name-type-lflang">
TestReactor
</span>
<span class="source-lf">
(
</span>

<span class="source-lf">
  
</span>
<span class="source-lf comment-block-lflang">
/**
</span>

<span class="source-lf comment-block-lflang">
   * FIXME: should work without an explicit initialization, see
</span>

<span class="source-lf comment-block-lflang">
   * https://github.com/lf-lang/lingua-franca/issues/623
</span>

<span class="source-lf comment-block-lflang">
   
</span>
<span class="source-lf comment-block-lflang">
*/
</span>

<span class="source-lf comment-line-double-dash-lflang">
  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// p_default: TestType, constructor #1
</span>

<span class="source-lf">
  p_default:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
(),
</span>

<span class="source-lf">
  p_empty:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
(),  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  p_value:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
(
</span>
<span class="source-lf constant-numeric-int-lflang">
24
</span>
<span class="source-lf">
),  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #2
</span>

<span class="source-lf">
  p_init_empty:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
{},  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  p_init_empty2:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
({}),  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  p_init_some:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
{
</span>
<span class="source-lf constant-numeric-int-lflang">
2
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
6
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
6
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
3
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
},  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  p_assign_init_empty:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 {},  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  p_assign_init_some:
</span>
<span class="source-lf entity-name-type-lflang">
 TestType
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 {
</span>
<span class="source-lf constant-numeric-int-lflang">
4
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
2
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf constant-numeric-int-lflang">
1
</span>
<span class="source-lf">
}  
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #3
</span>

<span class="source-lf">
) {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_default:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
                 // constructor #1
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_empty:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
(
</span>
<span class="source-lf">
)                 
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #1
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_value:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
(
</span>
<span class="source-lf constant-numeric-int-lflang">
24
</span>
<span class="source-lf">
)               
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #2
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_init_empty:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
{}            // constructor #1
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_init_empty2:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
(
</span>
<span class="source-lf">
{})         
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #3
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_init_some:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
{3, 12, 40}    // constructor #3
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_assign_init_empty:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
 = {}  // constructor #3
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_assign_init_some:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
 = {4, 3, 2, 1}  // constructor #3
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_copy1:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
(
</span>
<span class="source-lf">
p_default)        
</span>
<span class="source-lf comment-line-double-dash-lflang">
// constructor #4
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_copy2:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
{p_default}        // constructor #4
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf meta-embedded-block-cpp">
 s_copy3:
</span>
<span class="source-lf meta-embedded-block-cpp entity-name-type-lflang">
 TestType
</span>
<span class="source-lf meta-embedded-block-cpp">
 = p_default       // constructor #4
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
startup
</span>
<span class="source-lf">
) {
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_default
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
62
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_default should be default constructed and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
62
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_empty should be default constructed and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_value
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
44
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_value should be constructed from 24 and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_init_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
62
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_init_empty should be default constructed and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_init_empty2
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
20
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_init_empty2 should be constructed with 0 and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_init_some
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
25
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_init_some should be constructed with 3 and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_assign_init_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
62
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_assign_init_empty should be default constructed and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
p_assign_init_some
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
23
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
p_assign_init_some should be constructed with 4 and then moved
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">

</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_default
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
42
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_default should be default constructed
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
42
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_empty should be default constructed
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_value
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
24
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_value should be constructed with 24
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_init_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
42
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_init_empty should be default constructed
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_init_empty2
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_init_empty2 should be constructed with 0
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_init_some
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
3
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_init_some should be constructed with 3
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf comment-line-double-dash-lflang">
    
</span>
<span class="source-lf comment-line-double-dash-lflang">
// NOTE: This is a strange corner case. Since the equal assignment will be translated to a () initializers (e.g. :foo(42)),
</span>

<span class="source-lf comment-line-double-dash-lflang">
    
</span>
<span class="source-lf comment-line-double-dash-lflang">
// the initialization here in LF behaves differently from what one might expect. When writing `Foo foo = {}`,
</span>

<span class="source-lf comment-line-double-dash-lflang">
    
</span>
<span class="source-lf comment-line-double-dash-lflang">
// the default constructor would be called instead of the initializer list constructor.
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_assign_init_empty
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
0
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_assign_init_empty should be constructed with 0
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_assign_init_some
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
4
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_assign_init_some should be constructed with 4
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_copy1
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
72
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_copy1 should be copy constructed from p_default
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_copy2
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
72
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_copy1 should be copy constructed from p_default
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
    
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf keyword-operator-lflang">
::
</span>
<span class="source-lf variable-other-lflang">
validate
</span>
<span class="source-lf">
(
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
s_copy3
</span>
<span class="source-lf keyword-operator-lflang">
.
</span>
<span class="source-lf variable-other-lflang">
x
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
72
</span>
<span class="source-lf">
, 
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf string-quoted-double-lflang">
s_copy1 should be copy constructed from p_default
</span>
<span class="source-lf string-quoted-double-lflang">
"
</span>
<span class="source-lf">
);
</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
main
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf variable-other-constant-reactorinstance-lflang">
test
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-new-lflang">
new
</span>
<span class="source-lf">
 
</span>
<span class="source-lf entity-name-type-lflang">
TestReactor
</span>
<span class="source-lf">
()
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

