<span class="source-lf comment-line-double-dash-lflang">
# Test LF methods.
</span>

<span class="source-lf meta-targetspec-lflang keyword-control-lflang">
target
</span>
<span class="source-lf meta-targetspec-lflang">
 
</span>
<span class="source-lf meta-targetspec-lflang constant-language-lflang">
Python
</span>

<span class="source-lf">

</span>

<span class="source-lf storage-modifier-lflang">
main
</span>
<span class="source-lf">
 
</span>
<span class="source-lf storage-modifier-lflang">
reactor
</span>
<span class="source-lf">
 {
</span>

<span class="source-lf">
  
</span>
<span class="source-lf storage-modifier-lflang">
state
</span>
<span class="source-lf">
 
</span>
<span class="source-lf variable-other-lflang">
foo
</span>
<span class="source-lf">
 
</span>
<span class="source-lf keyword-operator-lflang">
=
</span>
<span class="source-lf">
 
</span>
<span class="source-lf constant-numeric-int-lflang">
2
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
method
</span>
<span class="source-lf entity-name-function-member-lflang">
 getFoo
</span>
<span class="source-lf">
() 
</span>
<span class="source-lf meta-embedded-block-py">
{=
</span>

<span class="source-lf meta-embedded-block-py">
    return self.foo
</span>

<span class="source-lf meta-embedded-block-py">
  
</span>
<span class="source-lf meta-embedded-block-py">
=}
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
method
</span>
<span class="source-lf entity-name-function-member-lflang">
 add
</span>
<span class="source-lf">
(x) 
</span>
<span class="source-lf meta-embedded-block-py">
{=
</span>

<span class="source-lf meta-embedded-block-py">
    self.foo += x
</span>

<span class="source-lf meta-embedded-block-py">
  
</span>
<span class="source-lf meta-embedded-block-py">
=}
</span>

<span class="source-lf">

</span>

<span class="source-lf">
  
</span>
<span class="source-lf keyword-control-lflang">
reaction
</span>
<span class="source-lf">
(
</span>
<span class="source-lf support-variable-lflang">
startup
</span>
<span class="source-lf">
) 
</span>
<span class="source-lf meta-embedded-block-py">
{=
</span>

<span class="source-lf meta-embedded-block-py">
    print(f"Foo is initialized to {self.getFoo()}")
</span>

<span class="source-lf meta-embedded-block-py">
    if self.getFoo() != 2:
</span>

<span class="source-lf meta-embedded-block-py">
      sys.stderr.write("Expected 2!");
</span>

<span class="source-lf meta-embedded-block-py">
      exit(1)
</span>

<span class="source-lf meta-embedded-block-py">

</span>

<span class="source-lf meta-embedded-block-py">
    self.add(40)
</span>

<span class="source-lf meta-embedded-block-py">
    a = self.getFoo()
</span>

<span class="source-lf meta-embedded-block-py">
    print(f"2 + 40 = {a}")
</span>

<span class="source-lf meta-embedded-block-py">
    if a != 42:
</span>

<span class="source-lf meta-embedded-block-py">
      sys.stderr.write("Expected 42!");
</span>

<span class="source-lf meta-embedded-block-py">
      exit(1)
</span>

<span class="source-lf meta-embedded-block-py">
  
</span>
<span class="source-lf meta-embedded-block-py">
=}
</span>

<span class="source-lf">
}
</span>

<span class="source-lf">

</span>

